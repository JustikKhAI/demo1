/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/functions.js */ \"./src/js/modules/functions.js\");\n\nwindow.addEventListener(\"load\", () => {\n   const spinner = document.getElementById(\"spinner\");\n   spinner.style.display = \"none\";\n});\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.isWebp();\n\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.checkTouchDevice();\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.qrOnTouchDevice();\n\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.toggleBurger();\n\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.filterShowHideUI();\n\nconst headerFilter = document.querySelector(\".sex-container\");\n\nconst currentPageUrl = window.location.href;\nif (currentPageUrl.includes(\"catalog\")) {\n   // Сторінка КАТАЛОГ\n   _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.renderCatalog();\n   setTimeout(_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.filterFromOtherPage,500);\n   headerFilter.addEventListener(\"click\", _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.filterHandler);\n} else {\n   // ГОЛОВНА\n   _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.assignIndexFotoPath();\n   headerFilter.addEventListener(\"click\", _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.filterOtherPage);\n}\n\n\n//# sourceURL=webpack://gulp-template/./src/js/app.js?");

/***/ }),

/***/ "./src/js/modules/catalog.js":
/*!***********************************!*\
  !*** ./src/js/modules/catalog.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Catalog: () => (/* binding */ Catalog)\n/* harmony export */ });\nclass Product {\n   constructor(data) {\n      this.articul = data.ARTICUL;\n      this.name = data.NAME;\n      this.sex = data.SEX;\n      this.color = data.COLOR;\n      this.season = data.SEASON;\n      this.outside = data.OUTSIDE;\n      this.inside = data.INSIDE;\n      this.price = parseFloat(data.PRICE);\n      this.sale = parseFloat(data.SALE);\n      this.img = data.IMG;\n      this.webp = data.WEBP;\n      this.sizes = [1, 2, 3, 4, 5, 6];\n      this.sexClass = function () {\n         if (this.sex == \"жіноче\") {\n            return \"sex-women\";\n         } else if (this.sex == \"комфорт\") {\n            return \"sex-comfort\";\n         } else if (this.sex == \"классік\") {\n            return \"sex-classic\";\n         } else {\n            return \"\";\n         }\n      };\n      this.seasonClass = function () {\n         if (this.season == \"літо\") {\n            return \"season-summer\";\n         } else if (this.season == \"весна-осінь\") {\n            return \"season-spring\";\n         } else if (this.season == \"зима\") {\n            return \"season-winter\";\n         } else if (this.season == \"демісезон\") {\n            return \"season-demi\";\n         } else {\n            return \"\";\n         }\n      };\n      this.sexSizes = function () {\n         let sizesCode = ``;\n         if (this.sex == \"жіноче\") {\n            for (let i = 0; i < this.sizes.length; i++) {\n               sizesCode += `<p class=\"size\">${this.sizes[i] + 35}</p>`;\n            }\n         } else {\n            for (let i = 0; i < this.sizes.length; i++) {\n               sizesCode += `<p class=\"size\">${this.sizes[i] + 39}</p>`;\n            }\n         }\n         return sizesCode;\n      };\n   }\n   buildProduct() {\n      const isWebpDev = document.body.classList.contains(\"webp\");\n      let catalogItem = document.createElement(\"div\");\n      if (this.articul == \"\") {\n         catalogItem.className = \"emptyElement\";\n         return catalogItem;\n      }\n      (catalogItem.className = \"catalog-item\");\n         catalogItem.classList.add(\n            `${this.sexClass()}`,\n            `${this.seasonClass()}`\n         );\n      catalogItem.id = `prod_${this.articul}`;\n\n      let itemImg = document.createElement(\"img\");\n      itemImg.className = \"c-item__img\";\n      if (isWebpDev) {\n         itemImg.src = this.webp;\n      } else {\n         itemImg.src = this.img;\n      }\n      let itemName = document.createElement(\"p\");\n      itemName.className = \"c-item__name\";\n      itemName.innerText = this.name;\n\n      let itemDescr = document.createElement(\"div\");\n      itemDescr.className = \"c-item-descr\";\n\n      let itemColor = document.createElement(\"p\");\n      itemColor.className = \"c-item__color\";\n      itemColor.innerHTML = `<span>Колір: </span>${this.color.toLowerCase()}`;\n\n      let itemSeason = document.createElement(\"p\");\n      itemSeason.className = \"c-item__season\";\n      itemSeason.innerHTML = `<span>Сезон: </span>${this.season.toLowerCase()}`;\n\n      let itemOutside = document.createElement(\"p\");\n      itemOutside.className = \"c-item__outside\";\n      itemOutside.innerHTML = `<span>Матеріал верху: </span>${this.outside.toLowerCase()}`;\n\n      let itemInside = document.createElement(\"p\");\n      itemInside.className = \"c-item__inside\";\n      itemInside.innerHTML = `<span>Матеріал в середині: </span>${this.inside.toLowerCase()}`;\n\n      itemDescr.append(itemColor, itemSeason, itemOutside, itemInside);\n\n      let itemSizePriceArt = document.createElement(\"div\");\n      itemSizePriceArt.className = \"c-item-spa-block\";\n\n      let itemSize = document.createElement(\"div\");\n      itemSize.className = \"c-item__size\";\n      itemSize.innerHTML = this.sexSizes();\n\n      let itemPriceBlock = document.createElement(\"div\");\n      itemPriceBlock.className = \"c-item-price__block\";\n\n      let itemAction = document.createElement(\"p\");\n      itemAction.classList.add(\n         \"c-item__action\",\n         getActionSale(this.price, this.sale)\n      );\n      itemAction.innerText = `${this.sale.toLocaleString(\"ru-RU\")} грн`;\n\n      let itemPriceElem = document.createElement(\"div\");\n      itemPriceElem.className = \"c-item-price__elem\";\n\n      let itemPrice = document.createElement(\"p\");\n      itemPrice.classList.add(\n         \"c-item__price\",\n         getActionPrice(this.price, this.sale)\n      );\n      itemPrice.innerText = `${this.price.toLocaleString(\"ru-RU\")} грн`;\n\n      itemPriceElem.append(itemPrice);\n      itemPriceBlock.append(itemAction, itemPriceElem);\n\n      let itemArticul = document.createElement(\"div\");\n      itemArticul.className = \"c-item__art\";\n\n      let itemArtText = document.createElement(\"div\");\n      itemArtText.className = \"art__text\";\n      itemArtText.innerHTML = `<span>Артикул: </span>${this.articul}`;\n      itemArticul.appendChild(itemArtText);\n      itemSizePriceArt.append(itemSize, itemPriceBlock, itemArticul);\n\n      catalogItem.append(itemImg, itemName, itemDescr, itemSizePriceArt);\n      return catalogItem;\n   }\n}\n\nclass Catalog {\n   constructor() {\n      this.products = [];\n   }\n\n   render() {\n      const htmlCat = document.createElement(\"div\");\n      htmlCat.className = \"catalog-container\";\n      const errorTitle = document.createElement(\"div\");\n      errorTitle.className = \"error-title\";\n      errorTitle.innerText =\n         \"Упс... Щось пішло не так. Спробуйте перезавантажити сторінку.\";\n      htmlCat.appendChild(errorTitle);\n\n      this.products.forEach((product) => {\n         let tmp = product.buildProduct();\n         if (tmp.id != \"emptyElement\") {\n            htmlCat.appendChild(tmp);\n         }\n      });\n      const catalogBlock = document.getElementById(\"catalog\");\n      catalogBlock.appendChild(htmlCat);\n   }\n\n   generateProducts(data) {\n      this.products = data.map((productData) => new Product(productData));\n      for (let i = 0; i < this.products.length; i++) {\n         if (this.products[i].articul == \"\") {\n            this.products.pop(this.products[i]);\n         }\n      }\n   }\n}\n\nfunction getActionSale(price, sale) {\n   if (sale != 0 && sale < price) {\n      return \"action-enabled\";\n   } else {\n      return \"action-disabled\";\n   }\n}\n\nfunction getActionPrice(price, sale) {\n   if (sale != 0 && sale < price) {\n      return \"price-inactive\";\n   } else {\n      return \"price-active\";\n   }\n}\n\n\n//# sourceURL=webpack://gulp-template/./src/js/modules/catalog.js?");

/***/ }),

/***/ "./src/js/modules/functions.js":
/*!*************************************!*\
  !*** ./src/js/modules/functions.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignIndexFotoPath: () => (/* binding */ assignIndexFotoPath),\n/* harmony export */   catalogPage: () => (/* binding */ catalogPage),\n/* harmony export */   checkTouchDevice: () => (/* binding */ checkTouchDevice),\n/* harmony export */   filterFromOtherPage: () => (/* binding */ filterFromOtherPage),\n/* harmony export */   filterHandler: () => (/* binding */ filterHandler),\n/* harmony export */   filterOtherPage: () => (/* binding */ filterOtherPage),\n/* harmony export */   filterShowHideUI: () => (/* binding */ filterShowHideUI),\n/* harmony export */   isWebp: () => (/* binding */ isWebp),\n/* harmony export */   qrOnTouchDevice: () => (/* binding */ qrOnTouchDevice),\n/* harmony export */   renderCatalog: () => (/* binding */ renderCatalog),\n/* harmony export */   toggleBurger: () => (/* binding */ toggleBurger)\n/* harmony export */ });\n/* harmony import */ var _catalog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./catalog.js */ \"./src/js/modules/catalog.js\");\n/* Проверка поддержки webp, добавление класса webp или no-webp для HTML */\n\nfunction isWebp() {\n   // Проверка поддержки webp\n   function testWebP(callback) {\n      var webP = new Image();\n      webP.onload = webP.onerror = function () {\n         callback(webP.height == 2);\n      };\n      webP.src =\n         \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\n   }\n   //добавление класса webp или no-webp для HTML\n   testWebP(function (support) {\n      if (support == true) {\n         document.querySelector(\"body\").classList.add(\"webp\");\n      } else {\n         document.querySelector(\"body\").classList.add(\"no-webp\");\n      }\n   });\n}\n\nfunction toggleBurger() {\n   var headerBurger = document.querySelector(\".header__burger\");\n   var headerMenu = document.querySelector(\".header__menu\");\n   var headerLink = document.querySelectorAll(\".header__list a\");\n   var headerFilter = document.querySelectorAll(\".filter-option\")\n   var body = document.body;\n\n   headerBurger.addEventListener(\"click\", function (event) {\n      headerBurger.classList.toggle(\"active\");\n      headerMenu.classList.toggle(\"active\");\n      body.classList.toggle(\"lock\");\n      headerMenu.classList.toggle(\"lock\");\n   });\n   headerLink.forEach((item) =>\n      item.addEventListener(\"click\", function (event) {\n         headerBurger.classList.toggle(\"active\");\n         headerMenu.classList.toggle(\"active\");\n         body.classList.toggle(\"lock\");\n         headerMenu.classList.toggle(\"lock\");\n      })\n   );\n   headerFilter.forEach((item) =>\n      item.addEventListener(\"click\", function (event) {\n         headerBurger.classList.toggle(\"active\");\n         headerMenu.classList.toggle(\"active\");\n         body.classList.toggle(\"lock\");\n         headerMenu.classList.toggle(\"lock\");\n      })\n   );\n}\n\nfunction checkTouchDevice() {\n   const isTouchDevice =\n      \"ontouchstart\" in window ||\n      navigator.maxTouchPoints > 0 ||\n      navigator.msMaxTouchPoints > 0;\n   const elements = document.querySelectorAll(\".hoverable\");\n   if (isTouchDevice) {\n      elements.forEach((item) => item.classList.remove(\"hoverable\"));\n   }\n}\nfunction createWayFoto(basicWay) {\n   let result;\n   let resStart = basicWay.slice(0, -4);\n   let resEnd = isWebp() ? \".webp\" : \".jpg\"; // проверяем поддержку webp\n   let a = 1200;\n   let b = 992;\n   let c = 768;\n   let d = 560;\n   let e = 320;\n   let f = \"-min\";\n\n   if (window.innerWidth >= a) {\n      result = resStart + a + resEnd;\n   } else if (window.innerWidth >= b) {\n      result = resStart + b + resEnd;\n   } else if (window.innerWidth >= c) {\n      result = resStart + c + resEnd;\n   } else if (window.innerWidth >= d) {\n      result = resStart + d + resEnd;\n   } else if (window.innerWidth >= e) {\n      result = resStart + e + resEnd;\n   } else {\n      result = resStart + f + resEnd;\n   }\n   return result;\n}\nfunction setFotoPath(selector, path) {\n   const imgElement = document.querySelector(selector);\n   const fotoPath = createWayFoto(path);\n   imgElement.setAttribute(\"src\", fotoPath);\n}\n\nfunction assignIndexFotoPath() {\n   const fotoPaths = [\n      { selector: \".main-foto__img\", path: \"img/main/main-foto.jpg\" },\n      {\n         selector: \".g-repare-foto__img\",\n         path: \"img/guarantee/repare-foto.jpg\",\n      },\n      {\n         selector: \".g-service-foto__img\",\n         path: \"img/guarantee/service-foto.jpg\",\n      },\n   ];\n\n   fotoPaths.forEach((foto) => setFotoPath(foto.selector, foto.path));\n}\n\nfunction checkTouchFooter() {\n   const isTouchDevice =\n      \"ontouchstart\" in window ||\n      navigator.maxTouchPoints > 0 ||\n      navigator.msMaxTouchPoints > 0;\n   return isTouchDevice;\n}\nfunction qrOnTouchDevice() {\n   let hoverFb = document.querySelector(\".f-facebook-link\");\n   let hoverInsta = document.querySelector(\".f-insta-link\");\n\n   hoverFb.addEventListener(\"mouseover\", function () {\n      if (!checkTouchFooter()) {\n         let qrBlock = document.getElementById(\"fbqr\");\n         qrBlock.classList.add(\"show-qr\");\n      }\n   });\n   hoverFb.addEventListener(\"mouseout\", function () {\n      let qrBlock = document.getElementById(\"fbqr\");\n      qrBlock.classList.remove(\"show-qr\");\n   });\n\n   hoverInsta.addEventListener(\"mouseover\", function () {\n      if (!checkTouchFooter()) {\n         let qrBlock = document.getElementById(\"instaqr\");\n         qrBlock.classList.add(\"show-qr\");\n      }\n   });\n   hoverInsta.addEventListener(\"mouseout\", function () {\n      let qrBlock = document.getElementById(\"instaqr\");\n      qrBlock.classList.remove(\"show-qr\");\n   });\n}\nconst catalogPage = new _catalog_js__WEBPACK_IMPORTED_MODULE_0__.Catalog();\nfunction renderCatalog() {\n   Papa.parse(\"../files/pricelist.csv\", {\n      download: true,\n      header: true,\n      skipEmptyLines: \"greedy\",\n      complete: function (results) {\n         catalogPage.generateProducts(results.data);\n         catalogPage.render();\n      },\n   });\n};\nfunction getFilter(id) {\n   const idParts = id.split(\"_\");\n   // console.log(idParts);\n   const elems = Array.from(document.querySelectorAll(\".catalog-item\"));\n   // console.log(elems);\n   elems.forEach((item) => {\n      item.classList.add(\"hide-item\");\n      item.classList.remove(\"show-item\");\n      if (idParts[1] == idParts[2]) {\n         item.classList.remove(\"hide-item\");\n         item.classList.add(\"show-item\");\n      } else if (\n         idParts[1] == \"all\" &&\n         item.classList.contains(`season-${idParts[2]}`)\n      ) {\n         item.classList.remove(\"hide-item\");\n         item.classList.add(\"show-item\");\n      } else if (\n         item.classList.contains(`sex-${idParts[1]}`) &&\n         idParts[2] == \"all\"\n      ) {\n         item.classList.remove(\"hide-item\");\n         item.classList.add(\"show-item\");\n      } else {\n         if (\n            item.classList.contains(`sex-${idParts[1]}`) &&\n            item.classList.contains(`season-${idParts[2]}`)\n         ) {\n            item.classList.remove(\"hide-item\");\n            item.classList.add(\"show-item\");\n         }\n      }\n   });\n   const countShowedElems = Array.from(document.querySelectorAll(\".show-item\"));\n      const errorTitle = document.querySelector(\".error-title\");\n   if (countShowedElems.length == 0) {\n      errorTitle.classList.add(\"show-item\");\n   } else {\n      errorTitle.classList.remove(\"show-item\");\n   }\n}\nfunction filterOtherPage(event) {\n   if (!event.target.classList.contains(\"filter-option\")) {\n      return false;\n   }\n   const id = event.target.id;\n   window.location.href = \"/catalog-page.html?\" + id;\n}\n\nconst filterFromOtherPage = function() {\n   const filter = window.location.href.split(\"?\")[1];\n   if (filter === undefined) {\n      return false;\n   } else {\n      getFilter(filter);\n   }\n}\n\nfunction filterHandler(event) {\n   if (!event.target.classList.contains(\"filter-option\")) {\n      return false;\n   }\n   const id = event.target.id;\n   getFilter(id);\n}\n\nfunction filterShowHideUI() {\n   const filterBtn = document.getElementById(\"filter_btn\");\n   const filterSexList = document.querySelector(\".sex-container\");\n   const filterSexBtns = document.querySelectorAll(\".sex-header\");\n   const filterSeasonList = document.querySelector(\".season-container\");\n   const filterSeasonBtns = document.querySelectorAll(\".season-header\");\n   \n\n   // Функция, которая скрывает все уже открытые элементы\n   function hideAll() {\n      filterSexBtns.forEach((item) => {\n         const seasonContainer = item.nextElementSibling;\n         if (seasonContainer.classList.contains(\"show-item\")) {\n            seasonContainer.classList.remove(\"show-item\");\n            item.classList.remove(\"active\");\n         }\n      });\n   }\n\n   filterBtn.addEventListener(\"click\", function (event) {\n      if (event.target.id !== \"filter_btn\") {\n         return false;\n      }\n      filterBtn.classList.toggle(\"active\");\n      filterSexList.classList.toggle(\"show-item\");\n      hideAll();\n   });\n\n   filterSexBtns.forEach((item) => {\n      item.addEventListener(\"click\", function (event) {\n         const seasonContainer = event.target.nextElementSibling;\n         event.target.classList.toggle(\"active\");\n\n         // Скрываем все уже открытые элементы\n         if (!seasonContainer.classList.contains(\"show-item\")) {\n            hideAll();\n            seasonContainer.classList.toggle(\"show-item\");\n         } else {\n            hideAll();\n         }\n      });\n   });\n   filterSeasonBtns.forEach((item) => {\n      item.addEventListener(\"click\", function () {\n         filterSeasonList.classList.remove(\"show-item\");\n         filterSexList.classList.remove(\"show-item\");\n      });\n   });\n   document.addEventListener(\"click\", function (event) {\n      if (\n         event.target.id != \"filter_btn\" &&\n         !event.target.classList.contains(\"sex-container\") &&\n         !event.target.classList.contains(\"season-container\") &&\n         !event.target.classList.contains(\"sex-header\") &&\n         !event.target.classList.contains(\"season-header\")\n      ) {\n         filterSeasonList.classList.remove(\"show-item\");\n         filterSexList.classList.remove(\"show-item\");\n      }\n   });\n}\n\n\n//# sourceURL=webpack://gulp-template/./src/js/modules/functions.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;